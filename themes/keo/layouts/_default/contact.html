{{ define "main" }}
<article class="prose lg:prose-xl max-w-none mx-auto py-8 px-4 bg-keo-light-gray text-keo-very-dark-gray rounded-lg shadow">
    <header class="mb-8 text-center">
        <h1 class="text-4xl font-bold text-keo-near-black">{{ .Title }}</h1>
    </header>
    
    <section class="text-keo-very-dark-gray mb-8">
        <div class="page-content">
            {{ .Content }} 
        </div>

        <!-- Bluesky Feed Section -->
        <section class="bluesky-feed mt-12 pt-8 border-t border-keo-light-gray dark:border-keo-dark-gray">
            <h2 class="text-2xl font-semibold text-keo-dark-gray dark:text-keo-light-gray mb-6 text-center">Latest from Bluesky</h2>
            <bsky-embed username="keorangi.bsky.social" limit="5"></bsky-embed>
        </section>
        <!-- End Bluesky Feed Section -->
    </section>

    {{ if .Site.Params.googleFormUrl }}
    <section class="google-form-container aspect-w-16 aspect-h-9 lg:aspect-h-12 xl:aspect-h-10">
        <iframe 
            src="{{ .Site.Params.googleFormUrl }}" 
            width="100%" 
            height="800" {{/* Adjust height as needed, or use CSS for responsive height */}}
            frameborder="0" 
            marginheight="0" 
            marginwidth="0"
            class="w-full h-full"
            title="Contact Form">
            Loadingâ€¦
        </iframe>
    </section>
    {{/* No else block, so nothing shows if googleFormUrl is not set */}}
    {{ end }}

</article>

<!-- Add the bsky-embed script -->
<script src="https://cdn.jsdelivr.net/npm/bsky-embed@0.0.5/dist/bsky-embed.es.js" async></script>
{{ end }}
